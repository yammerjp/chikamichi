<!DOCTYPE html>
<html>
  <head>
    <script src="https://cdn.jsdelivr.net/npm/openai-web/dist/openai.min.js"></script>
    <script>
      function getAnswer() {
        const configuration = new OpenAI.Configuration({
            apiKey: document.getElementById('apiKey')?.value ?? "",
            basePath: document.getElementById('basePath')?.value ?? "",
        });
        const openai = new OpenAI.OpenAIApi(configuration);

        const response = openai.createCompletion({
            model: "text-davinci-003",
            prompt: document.getElementById("question")?.value ?? "",
        }).then((res) => {
            const answerElement = document.getElementById('answer')
            if (answer) {
              answerElement.innerText = res.data.choices[0].text;
            }
        },(error) => {
            console.log(error)
            const message = error.response.data.error.message ?? (error.message ?? "An error occured");
            console.log("Error",message);
        });
      }
    </script>
  </head>
  <body>
    <div>key:</div>
    <div><input type="password" id="apiKey" style="width: 100%"></div>
    <div>basePath:</div>
    <div><input id="basePath" style="width: 100%" value="https://api.openai.com/v1"></div>
    <div>question</div>
    <div><input id="question" style="width: 100%"></div>
    <div><button onclick="getAnswer()">query</button></div>
    <div>answer:</div>
    <div id="answer"></div>
  </body>
</html>

